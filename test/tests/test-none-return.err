Error in semantics: function mismatch is not guaranteed to return